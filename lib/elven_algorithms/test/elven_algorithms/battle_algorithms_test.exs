defmodule ElvenAlgorithms.BattleAlgorithmsTest do
  use ExUnit.Case

  alias ElvenAlgorithms.BattleAlgorithms

  ## Tests

  describe "hp_max/2 for" do
    test "adventurer" do
      Enum.each(adventurer_hp_max(), fn {level, hp} ->
        assert BattleAlgorithms.hp_max(:adventurer, level) == hp
      end)
    end

    test "swordman" do
      Enum.each(swordman_hp_max(), fn {level, hp} ->
        assert BattleAlgorithms.hp_max(:swordman, level) == hp
      end)
    end

    test "archer" do
      Enum.each(archer_hp_max(), fn {level, hp} ->
        assert BattleAlgorithms.hp_max(:archer, level) == hp
      end)
    end

    test "magician" do
      Enum.each(magician_hp_max(), fn {level, hp} ->
        assert BattleAlgorithms.hp_max(:magician, level) == hp
      end)
    end

    test "martial_artist" do
      Enum.each(martial_artist_hp_max(), fn {level, hp} ->
        assert BattleAlgorithms.hp_max(:martial_artist, level) == hp
      end)
    end
  end

  describe "mp_max/2 for" do
    test "adventurer" do
      Enum.each(adventurer_mp_max(), fn {level, mp} ->
        assert BattleAlgorithms.mp_max(:adventurer, level) == mp
      end)
    end

    test "swordman" do
      Enum.each(swordman_mp_max(), fn {level, mp} ->
        assert BattleAlgorithms.mp_max(:swordman, level) == mp
      end)
    end

    test "archer" do
      Enum.each(archer_mp_max(), fn {level, mp} ->
        assert BattleAlgorithms.mp_max(:archer, level) == mp
      end)
    end

    test "magician" do
      Enum.each(magician_mp_max(), fn {level, mp} ->
        assert BattleAlgorithms.mp_max(:magician, level) == mp
      end)
    end

    test "martial_artist" do
      Enum.each(martial_artist_mp_max(), fn {level, mp} ->
        assert BattleAlgorithms.mp_max(:martial_artist, level) == mp
      end)
    end
  end

  ## Helpers

  def adventurer_hp_max() do
    [
      {1, 221},
      {2, 238},
      {3, 256},
      {4, 275},
      {5, 295},
      {6, 316},
      {7, 338},
      {8, 361},
      {9, 385},
      {10, 410},
      {11, 436},
      {12, 463},
      {13, 491},
      {14, 520},
      {15, 550},
      {16, 581},
      {17, 613},
      {18, 646},
      {19, 680},
      {20, 715},
      {21, 751},
      {22, 788},
      {23, 826},
      {24, 865},
      {25, 905},
      {26, 946},
      {27, 988},
      {28, 1031},
      {29, 1075},
      {30, 1120},
      {31, 1166},
      {32, 1213},
      {33, 1261},
      {34, 1310},
      {35, 1360},
      {36, 1411},
      {37, 1463},
      {38, 1516},
      {39, 1570},
      {40, 1625},
      {41, 1681},
      {42, 1738},
      {43, 1796},
      {44, 1855},
      {45, 1915},
      {46, 1976},
      {47, 2038},
      {48, 2101},
      {49, 2165},
      {50, 2230},
      {51, 2296},
      {52, 2363},
      {53, 2431},
      {54, 2500},
      {55, 2570},
      {56, 2641},
      {57, 2713},
      {58, 2786},
      {59, 2860},
      {60, 2935},
      {61, 3011},
      {62, 3088},
      {63, 3166},
      {64, 3245},
      {65, 3325},
      {66, 3406},
      {67, 3488},
      {68, 3571},
      {69, 3655},
      {70, 3740},
      {71, 3826},
      {72, 3913},
      {73, 4001},
      {74, 4090},
      {75, 4180},
      {76, 4271},
      {77, 4363},
      {78, 4456},
      {79, 4550},
      {80, 4645},
      {81, 4741},
      {82, 4838},
      {83, 4936},
      {84, 5035},
      {85, 5135},
      {86, 5236},
      {87, 5338},
      {88, 5441},
      {89, 5545},
      {90, 5650},
      {91, 5756},
      {92, 5863},
      {93, 5971},
      {94, 6080},
      {95, 6190},
      {96, 6301},
      {97, 6413},
      {98, 6526},
      {99, 6640}
    ]
  end

  def swordman_hp_max() do
    [
      {1, 221},
      {2, 238},
      {3, 275},
      {4, 316},
      {5, 361},
      {6, 410},
      {7, 436},
      {8, 491},
      {9, 550},
      {10, 613},
      {11, 680},
      {12, 715},
      {13, 788},
      {14, 865},
      {15, 946},
      {16, 1031},
      {17, 1075},
      {18, 1166},
      {19, 1261},
      {20, 1360},
      {21, 1463},
      {22, 1516},
      {23, 1625},
      {24, 1738},
      {25, 1855},
      {26, 1976},
      {27, 2038},
      {28, 2165},
      {29, 2296},
      {30, 2431},
      {31, 2570},
      {32, 2641},
      {33, 2786},
      {34, 2935},
      {35, 3088},
      {36, 3245},
      {37, 3325},
      {38, 3488},
      {39, 3655},
      {40, 3826},
      {41, 4001},
      {42, 4090},
      {43, 4271},
      {44, 4456},
      {45, 4645},
      {46, 4838},
      {47, 4936},
      {48, 5135},
      {49, 5338},
      {50, 5545},
      {51, 5756},
      {52, 5863},
      {53, 6080},
      {54, 6301},
      {55, 6526},
      {56, 6755},
      {57, 6871},
      {58, 7106},
      {59, 7345},
      {60, 7588},
      {61, 7835},
      {62, 7960},
      {63, 8213},
      {64, 8470},
      {65, 8731},
      {66, 8996},
      {67, 9130},
      {68, 9401},
      {69, 9676},
      {70, 9955},
      {71, 10238},
      {72, 10381},
      {73, 10670},
      {74, 10963},
      {75, 11260},
      {76, 11561},
      {77, 11713},
      {78, 12020},
      {79, 12331},
      {80, 12646},
      {81, 12965},
      {82, 13126},
      {83, 13451},
      {84, 13780},
      {85, 14113},
      {86, 14450},
      {87, 14620},
      {88, 14963},
      {89, 15310},
      {90, 15661},
      {91, 16016},
      {92, 16195},
      {93, 16556},
      {94, 16921},
      {95, 17290},
      {96, 17663},
      {97, 17851},
      {98, 18230},
      {99, 18613}
    ]
  end

  def archer_hp_max() do
    [
      {1, 221},
      {2, 238},
      {3, 256},
      {4, 275},
      {5, 316},
      {6, 338},
      {7, 361},
      {8, 410},
      {9, 436},
      {10, 463},
      {11, 520},
      {12, 550},
      {13, 581},
      {14, 613},
      {15, 680},
      {16, 715},
      {17, 751},
      {18, 826},
      {19, 865},
      {20, 905},
      {21, 988},
      {22, 1031},
      {23, 1075},
      {24, 1120},
      {25, 1213},
      {26, 1261},
      {27, 1310},
      {28, 1411},
      {29, 1463},
      {30, 1516},
      {31, 1625},
      {32, 1681},
      {33, 1738},
      {34, 1796},
      {35, 1915},
      {36, 1976},
      {37, 2038},
      {38, 2165},
      {39, 2230},
      {40, 2296},
      {41, 2431},
      {42, 2500},
      {43, 2570},
      {44, 2641},
      {45, 2786},
      {46, 2860},
      {47, 2935},
      {48, 3088},
      {49, 3166},
      {50, 3245},
      {51, 3406},
      {52, 3488},
      {53, 3571},
      {54, 3655},
      {55, 3826},
      {56, 3913},
      {57, 4001},
      {58, 4180},
      {59, 4271},
      {60, 4363},
      {61, 4550},
      {62, 4645},
      {63, 4741},
      {64, 4838},
      {65, 5035},
      {66, 5135},
      {67, 5236},
      {68, 5441},
      {69, 5545},
      {70, 5650},
      {71, 5863},
      {72, 5971},
      {73, 6080},
      {74, 6190},
      {75, 6413},
      {76, 6526},
      {77, 6640},
      {78, 6871},
      {79, 6988},
      {80, 7106},
      {81, 7345},
      {82, 7466},
      {83, 7588},
      {84, 7711},
      {85, 7960},
      {86, 8086},
      {87, 8213},
      {88, 8470},
      {89, 8600},
      {90, 8731},
      {91, 8996},
      {92, 9130},
      {93, 9265},
      {94, 9401},
      {95, 9676},
      {96, 9815},
      {97, 9955},
      {98, 10238},
      {99, 10381}
    ]
  end

  def magician_hp_max() do
    [
      {1, 221},
      {2, 238},
      {3, 256},
      {4, 275},
      {5, 295},
      {6, 316},
      {7, 338},
      {8, 361},
      {9, 385},
      {10, 410},
      {11, 436},
      {12, 463},
      {13, 491},
      {14, 520},
      {15, 550},
      {16, 581},
      {17, 613},
      {18, 646},
      {19, 680},
      {20, 715},
      {21, 751},
      {22, 788},
      {23, 826},
      {24, 865},
      {25, 905},
      {26, 946},
      {27, 988},
      {28, 1031},
      {29, 1075},
      {30, 1120},
      {31, 1166},
      {32, 1213},
      {33, 1261},
      {34, 1310},
      {35, 1360},
      {36, 1411},
      {37, 1463},
      {38, 1516},
      {39, 1570},
      {40, 1625},
      {41, 1681},
      {42, 1738},
      {43, 1796},
      {44, 1855},
      {45, 1915},
      {46, 1976},
      {47, 2038},
      {48, 2101},
      {49, 2165},
      {50, 2230},
      {51, 2296},
      {52, 2363},
      {53, 2431},
      {54, 2500},
      {55, 2570},
      {56, 2641},
      {57, 2713},
      {58, 2786},
      {59, 2860},
      {60, 2935},
      {61, 3011},
      {62, 3088},
      {63, 3166},
      {64, 3245},
      {65, 3325},
      {66, 3406},
      {67, 3488},
      {68, 3571},
      {69, 3655},
      {70, 3740},
      {71, 3826},
      {72, 3913},
      {73, 4001},
      {74, 4090},
      {75, 4180},
      {76, 4271},
      {77, 4363},
      {78, 4456},
      {79, 4550},
      {80, 4645},
      {81, 4741},
      {82, 4838},
      {83, 4936},
      {84, 5035},
      {85, 5135},
      {86, 5236},
      {87, 5338},
      {88, 5441},
      {89, 5545},
      {90, 5650},
      {91, 5756},
      {92, 5863},
      {93, 5971},
      {94, 6080},
      {95, 6190},
      {96, 6301},
      {97, 6413},
      {98, 6526},
      {99, 6640}
    ]
  end

  def martial_artist_hp_max() do
    [
      {1, 221},
      {2, 238},
      {3, 275},
      {4, 295},
      {5, 338},
      {6, 361},
      {7, 410},
      {8, 436},
      {9, 491},
      {10, 520},
      {11, 581},
      {12, 613},
      {13, 680},
      {14, 715},
      {15, 788},
      {16, 826},
      {17, 905},
      {18, 946},
      {19, 1031},
      {20, 1075},
      {21, 1166},
      {22, 1213},
      {23, 1310},
      {24, 1360},
      {25, 1463},
      {26, 1516},
      {27, 1625},
      {28, 1681},
      {29, 1796},
      {30, 1855},
      {31, 1976},
      {32, 2038},
      {33, 2165},
      {34, 2230},
      {35, 2363},
      {36, 2431},
      {37, 2570},
      {38, 2641},
      {39, 2786},
      {40, 2860},
      {41, 3011},
      {42, 3088},
      {43, 3245},
      {44, 3325},
      {45, 3488},
      {46, 3571},
      {47, 3740},
      {48, 3826},
      {49, 4001},
      {50, 4090},
      {51, 4271},
      {52, 4363},
      {53, 4550},
      {54, 4645},
      {55, 4838},
      {56, 4936},
      {57, 5135},
      {58, 5236},
      {59, 5441},
      {60, 5545},
      {61, 5756},
      {62, 5863},
      {63, 6080},
      {64, 6190},
      {65, 6413},
      {66, 6526},
      {67, 6755},
      {68, 6871},
      {69, 7106},
      {70, 7225},
      {71, 7466},
      {72, 7588},
      {73, 7835},
      {74, 7960},
      {75, 8213},
      {76, 8341},
      {77, 8600},
      {78, 8731},
      {79, 8996},
      {80, 9130},
      {81, 9401},
      {82, 9538},
      {83, 9815},
      {84, 9955},
      {85, 10238},
      {86, 10381},
      {87, 10670},
      {88, 10816},
      {89, 11111},
      {90, 11260},
      {91, 11561},
      {92, 11713},
      {93, 12020},
      {94, 12175},
      {95, 12488},
      {96, 12646},
      {97, 12965},
      {98, 13126},
      {99, 13451}
    ]
  end

  def adventurer_mp_max() do
    [
      {1, 60},
      {2, 69},
      {3, 78},
      {4, 87},
      {5, 97},
      {6, 108},
      {7, 119},
      {8, 130},
      {9, 142},
      {10, 155},
      {11, 168},
      {12, 181},
      {13, 195},
      {14, 210},
      {15, 225},
      {16, 240},
      {17, 256},
      {18, 273},
      {19, 290},
      {20, 307},
      {21, 325},
      {22, 344},
      {23, 363},
      {24, 382},
      {25, 402},
      {26, 423},
      {27, 444},
      {28, 465},
      {29, 487},
      {30, 510},
      {31, 533},
      {32, 556},
      {33, 580},
      {34, 605},
      {35, 630},
      {36, 655},
      {37, 681},
      {38, 708},
      {39, 735},
      {40, 762},
      {41, 790},
      {42, 819},
      {43, 848},
      {44, 877},
      {45, 907},
      {46, 938},
      {47, 969},
      {48, 1000},
      {49, 1032},
      {50, 1065},
      {51, 1098},
      {52, 1131},
      {53, 1165},
      {54, 1200},
      {55, 1235},
      {56, 1270},
      {57, 1306},
      {58, 1343},
      {59, 1380},
      {60, 1417},
      {61, 1455},
      {62, 1494},
      {63, 1533},
      {64, 1572},
      {65, 1612},
      {66, 1653},
      {67, 1694},
      {68, 1735},
      {69, 1777},
      {70, 1820},
      {71, 1863},
      {72, 1906},
      {73, 1950},
      {74, 1995},
      {75, 2040},
      {76, 2085},
      {77, 2131},
      {78, 2178},
      {79, 2225},
      {80, 2272},
      {81, 2320},
      {82, 2369},
      {83, 2418},
      {84, 2467},
      {85, 2517},
      {86, 2568},
      {87, 2619},
      {88, 2670},
      {89, 2722},
      {90, 2775},
      {91, 2828},
      {92, 2881},
      {93, 2935},
      {94, 2990},
      {95, 3045},
      {96, 3100},
      {97, 3156},
      {98, 3213},
      {99, 3270}
    ]
  end

  def swordman_mp_max() do
    [
      {1, 60},
      {2, 69},
      {3, 78},
      {4, 87},
      {5, 97},
      {6, 108},
      {7, 119},
      {8, 130},
      {9, 142},
      {10, 155},
      {11, 168},
      {12, 181},
      {13, 195},
      {14, 210},
      {15, 225},
      {16, 240},
      {17, 256},
      {18, 273},
      {19, 290},
      {20, 307},
      {21, 325},
      {22, 344},
      {23, 363},
      {24, 382},
      {25, 402},
      {26, 423},
      {27, 444},
      {28, 465},
      {29, 487},
      {30, 510},
      {31, 533},
      {32, 556},
      {33, 580},
      {34, 605},
      {35, 630},
      {36, 655},
      {37, 681},
      {38, 708},
      {39, 735},
      {40, 762},
      {41, 790},
      {42, 819},
      {43, 848},
      {44, 877},
      {45, 907},
      {46, 938},
      {47, 969},
      {48, 1000},
      {49, 1032},
      {50, 1065},
      {51, 1098},
      {52, 1131},
      {53, 1165},
      {54, 1200},
      {55, 1235},
      {56, 1270},
      {57, 1306},
      {58, 1343},
      {59, 1380},
      {60, 1417},
      {61, 1455},
      {62, 1494},
      {63, 1533},
      {64, 1572},
      {65, 1612},
      {66, 1653},
      {67, 1694},
      {68, 1735},
      {69, 1777},
      {70, 1820},
      {71, 1863},
      {72, 1906},
      {73, 1950},
      {74, 1995},
      {75, 2040},
      {76, 2085},
      {77, 2131},
      {78, 2178},
      {79, 2225},
      {80, 2272},
      {81, 2320},
      {82, 2369},
      {83, 2418},
      {84, 2467},
      {85, 2517},
      {86, 2568},
      {87, 2619},
      {88, 2670},
      {89, 2722},
      {90, 2775},
      {91, 2828},
      {92, 2881},
      {93, 2935},
      {94, 2990},
      {95, 3045},
      {96, 3100},
      {97, 3156},
      {98, 3213},
      {99, 3270}
    ]
  end

  def archer_mp_max() do
    [
      {1, 60},
      {2, 69},
      {3, 78},
      {4, 87},
      {5, 97},
      {6, 108},
      {7, 119},
      {8, 130},
      {9, 142},
      {10, 155},
      {11, 181},
      {12, 195},
      {13, 210},
      {14, 225},
      {15, 240},
      {16, 256},
      {17, 273},
      {18, 290},
      {19, 307},
      {20, 325},
      {21, 363},
      {22, 382},
      {23, 402},
      {24, 423},
      {25, 444},
      {26, 465},
      {27, 487},
      {28, 510},
      {29, 533},
      {30, 556},
      {31, 605},
      {32, 630},
      {33, 655},
      {34, 681},
      {35, 708},
      {36, 735},
      {37, 762},
      {38, 790},
      {39, 819},
      {40, 848},
      {41, 907},
      {42, 938},
      {43, 969},
      {44, 1000},
      {45, 1032},
      {46, 1065},
      {47, 1098},
      {48, 1131},
      {49, 1165},
      {50, 1200},
      {51, 1270},
      {52, 1306},
      {53, 1343},
      {54, 1380},
      {55, 1417},
      {56, 1455},
      {57, 1494},
      {58, 1533},
      {59, 1572},
      {60, 1612},
      {61, 1694},
      {62, 1735},
      {63, 1777},
      {64, 1820},
      {65, 1863},
      {66, 1906},
      {67, 1950},
      {68, 1995},
      {69, 2040},
      {70, 2085},
      {71, 2178},
      {72, 2225},
      {73, 2272},
      {74, 2320},
      {75, 2369},
      {76, 2418},
      {77, 2467},
      {78, 2517},
      {79, 2568},
      {80, 2619},
      {81, 2722},
      {82, 2775},
      {83, 2828},
      {84, 2881},
      {85, 2935},
      {86, 2990},
      {87, 3045},
      {88, 3100},
      {89, 3156},
      {90, 3213},
      {91, 3327},
      {92, 3385},
      {93, 3444},
      {94, 3503},
      {95, 3562},
      {96, 3622},
      {97, 3683},
      {98, 3744},
      {99, 3805}
    ]
  end

  def magician_mp_max() do
    [
      {1, 60},
      {2, 69},
      {3, 87},
      {4, 108},
      {5, 130},
      {6, 155},
      {7, 168},
      {8, 195},
      {9, 225},
      {10, 256},
      {11, 290},
      {12, 307},
      {13, 344},
      {14, 382},
      {15, 423},
      {16, 465},
      {17, 487},
      {18, 533},
      {19, 580},
      {20, 630},
      {21, 681},
      {22, 708},
      {23, 762},
      {24, 819},
      {25, 877},
      {26, 938},
      {27, 969},
      {28, 1032},
      {29, 1098},
      {30, 1165},
      {31, 1235},
      {32, 1270},
      {33, 1343},
      {34, 1417},
      {35, 1494},
      {36, 1572},
      {37, 1612},
      {38, 1694},
      {39, 1777},
      {40, 1863},
      {41, 1950},
      {42, 1995},
      {43, 2085},
      {44, 2178},
      {45, 2272},
      {46, 2369},
      {47, 2418},
      {48, 2517},
      {49, 2619},
      {50, 2722},
      {51, 2828},
      {52, 2881},
      {53, 2990},
      {54, 3100},
      {55, 3213},
      {56, 3327},
      {57, 3385},
      {58, 3503},
      {59, 3622},
      {60, 3744},
      {61, 3867},
      {62, 3930},
      {63, 4056},
      {64, 4185},
      {65, 4315},
      {66, 4448},
      {67, 4515},
      {68, 4650},
      {69, 4788},
      {70, 4927},
      {71, 5069},
      {72, 5140},
      {73, 5285},
      {74, 5431},
      {75, 5580},
      {76, 5730},
      {77, 5806},
      {78, 5960},
      {79, 6115},
      {80, 6273},
      {81, 6432},
      {82, 6513},
      {83, 6675},
      {84, 6840},
      {85, 7006},
      {86, 7175},
      {87, 7260},
      {88, 7431},
      {89, 7605},
      {90, 7780},
      {91, 7958},
      {92, 8047},
      {93, 8228},
      {94, 8410},
      {95, 8595},
      {96, 8781},
      {97, 8875},
      {98, 9065},
      {99, 9256}
    ]
  end

  def martial_artist_mp_max() do
    [
      {1, 60},
      {2, 69},
      {3, 78},
      {4, 87},
      {5, 97},
      {6, 119},
      {7, 130},
      {8, 142},
      {9, 155},
      {10, 168},
      {11, 195},
      {12, 210},
      {13, 225},
      {14, 240},
      {15, 256},
      {16, 290},
      {17, 307},
      {18, 325},
      {19, 344},
      {20, 363},
      {21, 402},
      {22, 423},
      {23, 444},
      {24, 465},
      {25, 487},
      {26, 533},
      {27, 556},
      {28, 580},
      {29, 605},
      {30, 630},
      {31, 681},
      {32, 708},
      {33, 735},
      {34, 762},
      {35, 790},
      {36, 848},
      {37, 877},
      {38, 907},
      {39, 938},
      {40, 969},
      {41, 1032},
      {42, 1065},
      {43, 1098},
      {44, 1131},
      {45, 1165},
      {46, 1235},
      {47, 1270},
      {48, 1306},
      {49, 1343},
      {50, 1380},
      {51, 1455},
      {52, 1494},
      {53, 1533},
      {54, 1572},
      {55, 1612},
      {56, 1694},
      {57, 1735},
      {58, 1777},
      {59, 1820},
      {60, 1863},
      {61, 1950},
      {62, 1995},
      {63, 2040},
      {64, 2085},
      {65, 2131},
      {66, 2225},
      {67, 2272},
      {68, 2320},
      {69, 2369},
      {70, 2418},
      {71, 2517},
      {72, 2568},
      {73, 2619},
      {74, 2670},
      {75, 2722},
      {76, 2828},
      {77, 2881},
      {78, 2935},
      {79, 2990},
      {80, 3045},
      {81, 3156},
      {82, 3213},
      {83, 3270},
      {84, 3327},
      {85, 3385},
      {86, 3503},
      {87, 3562},
      {88, 3622},
      {89, 3683},
      {90, 3744},
      {91, 3867},
      {92, 3930},
      {93, 3993},
      {94, 4056},
      {95, 4120},
      {96, 4250},
      {97, 4315},
      {98, 4381},
      {99, 4448}
    ]
  end
end
